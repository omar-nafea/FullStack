<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interactive OOP in PHP Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/atom-one-dark.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
    <link rel="stylesheet" href="style.css" />
    <!-- 
            Chosen Palette: Warm Amber Focus 
            Application Structure Plan: Single-page application with a fixed left sidebar for navigation through 13 OOP concepts. Clicking a concept in the sidebar dynamically shows its detailed explanation and PHP code examples in the main content area. Gemini API integration adds buttons to: 1. Explain PHP code blocks. 2. Generate a quiz question for the current concept. 3. Suggest a real-world PHP example for the current concept. Responses are shown in a modal. This structure maintains clarity while enhancing learning through AI-powered insights. Detailed explanations are now used for each concept.
            Visualization & Content Choices: 
                - Report Info: OOP Concepts (detailed definitions, textual explanations, PHP code examples).
                - Goal: Inform, Educate, Reference, Enhance Understanding with AI.
                - Presentation:
                    - Text: HTML paragraphs, lists, and headings styled. Keywords highlighted.
                    - PHP Code: <pre><code> blocks with dark background, light text.
                    - Gemini Responses: Displayed in a modal, formatted for readability.
                - Interaction:
                    - Sidebar navigation clicks to switch content. Active state styling.
                    - "Copy to Clipboard" button for PHP code.
                    - "Explain this Code ‚ú®" button per code block (calls Gemini).
                    - "Generate Quiz Question ‚ú®" button per concept (calls Gemini).
                    - "Suggest Real-World PHP Example ‚ú®" button per concept (calls Gemini).
                    - Modal for displaying Gemini responses with loading state.
                - Justification: Core structure is good for educational content. Detailed explanations provide depth. Gemini features provide on-demand explanations, practice, and contextual examples, significantly boosting learning value. Modal keeps main UI clean.
                - Library/Method: Vanilla JavaScript for interactions (including Gemini API calls), Tailwind CSS for base styling, custom CSS in style.css.
                - Confirmation: NO SVG/Mermaid. No charts applicable.
            CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
        -->
  </head>

  <body class="bg-amber-50 text-stone-800">
    <div class="flex flex-col md:flex-row min-h-screen">
      <nav
        id="sidebar"
        class="w-full md:w-1/4 lg:w-1/5 bg-amber-100 p-4 space-y-2 overflow-y-auto h-screen md:sticky top-0"
      >
        <h1
          class="text-xl font-bold text-amber-800 mb-4 border-b-2 border-amber-300 pb-2"
        >
          PHP OOP Concepts
        </h1>
        <ul>
          <li>
            <a
              href="#"
              class="sidebar-link active"
              data-section="classes-objects"
              >1. Classes & Objects</a
            >
          </li>
          <li>
            <a href="#" class="sidebar-link" data-section="encapsulation"
              >2. Encapsulation</a
            >
          </li>
          <li>
            <a href="#" class="sidebar-link" data-section="inheritance"
              >3. Inheritance</a
            >
          </li>
          <li>
            <a href="#" class="sidebar-link" data-section="polymorphism"
              >4. Polymorphism</a
            >
          </li>
          <li>
            <a href="#" class="sidebar-link" data-section="abstraction"
              >5. Abstraction</a
            >
          </li>
          <li>
            <a href="#" class="sidebar-link" data-section="traits">6. Traits</a>
          </li>
          <li>
            <a href="#" class="sidebar-link" data-section="static-members"
              >7. Static Members</a
            >
          </li>
          <li>
            <a href="#" class="sidebar-link" data-section="namespaces"
              >8. Namespaces</a
            >
          </li>
          <li>
            <a href="#" class="sidebar-link" data-section="autoloading"
              >9. Autoloading Classes</a
            >
          </li>
          <li>
            <a href="#" class="sidebar-link" data-section="magic-methods"
              >10. Magic Methods</a
            >
          </li>
          <li>
            <a href="#" class="sidebar-link" data-section="object-comparison"
              >11. Object Comparison</a
            >
          </li>
          <li>
            <a href="#" class="sidebar-link" data-section="object-cloning"
              >12. Object Cloning</a
            >
          </li>
          <li>
            <a href="#" class="sidebar-link" data-section="type-declarations"
              >13. Type Declarations</a
            >
          </li>
        </ul>
      </nav>

      <main
        id="main-content"
        class="w-full md:w-3/4 lg:w-4/5 p-6 md:p-10 overflow-y-auto"
      >
        <div class="mb-8 p-6 bg-white rounded-lg shadow-md">
          <h1 class="text-3xl md:text-4xl font-bold text-amber-700 mb-3">
            Interactive OOP in PHP Explorer
          </h1>
          <p class="text-stone-700 text-lg">
            OOP is a programming paradigm based on the concept of "objects",
            which can contain data in the form of fields (often known as
            attributes or properties) and code in the form of procedures (often
            known as methods). This approach allows for more organized,
            reusable, and maintainable code. Select a topic from the sidebar.
            Use the ‚ú® buttons to get AI-powered explanations, quiz questions,
            and real-world examples!
          </p>
        </div>

        <div
          id="classes-objects-content"
          class="content-section bg-white p-6 rounded-lg shadow"
        >
          <h2>1. Classes and Objects</h2>
          <div class="concept-explanation-text">
            <p>
              <strong>Class</strong>: A
              <strong>blueprint</strong>
              or template for creating objects. It defines a set of properties
              and methods that all objects of that class will have.
            </p>
            <ul>
              <li>
                Think of a
                <code>Car</code>
                class. It would define properties like
                <code>color</code>, <code>model</code>, and methods like
                <code>startEngine()</code>, <code>accelerate()</code>.
              </li>
            </ul>
            <p>
              <strong>Object</strong>: An
              <strong>instance</strong>
              of a class. When you create an object, you are creating a specific
              item based on the class blueprint.
            </p>
            <ul>
              <li>
                Using the
                <code>Car</code>
                class, you could create objects like
                <code>$myRedCar</code>
                (a red Toyota) or
                <code>$blueSuv</code>
                (a blue Ford).
              </li>
            </ul>
            <p>
              <strong><code>$this</code> Keyword</strong>: Inside a class's
              methods, the
              <code>$this</code>
              keyword refers to the
              <strong>current object instance</strong>. It's used to access the
              object's properties and methods from within the class.
            </p>
            <p>
              <strong><code>new</code> Keyword</strong>: Used to create an
              instance (object) of a class.
            </p>
            <p>
              <strong>Constructor (<code>__construct</code>)</strong>: A special
              method that is automatically called when an object is created.
              It's often used to initialize an object's properties.
            </p>
            <p>
              <strong>Destructor (<code>__destruct</code>)</strong>: A special
              method that is automatically called when an object is destroyed or
              when the script finishes execution. It's useful for cleanup tasks
              like closing database connections or releasing resources.
            </p>
          </div>
          <h3>Class Definition Example:</h3>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  
  class Car {
      // Properties
      public $color;
      public $model;
  
      // Constructor
      public function __construct($color, $model) {
          $this-&gt;color = $color;
          $this-&gt;model = $model;
          echo "A new {$this-&gt;color} {$this-&gt;model} car has been created.\n";
      }
  
      // Methods
      public function startEngine() {
          return "Engine started for {$this-&gt;model}!\n";
      }
  
      public function accelerate() {
          return "The {$this-&gt;model} is accelerating.\n";
      }
  
      // Destructor (called when the object is no longer in use)
      public function __destruct() {
          echo "The {$this-&gt;color} {$this-&gt;model} car object is being destroyed.\n";
      }
  }
  
  ?&gt;
                      </code></pre>
          </div>
          <h3>Object Instantiation Example:</h3>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  
  // Assuming the Car class from above is defined (or in an included file)
  
  // Creating objects (instances) of the Car class
  $myCar = new Car("Red", "Toyota Camry");
  $anotherCar = new Car("Blue", "Honda Civic");
  
  // Accessing properties
  echo "My car's color: " . $myCar-&gt;color . "\n"; // Output: My car's color: Red
  echo "Another car's model: " . $anotherCar-&gt;model . "\n"; // Output: Another car's model: Honda Civic
  
  // Calling methods
  echo $myCar-&gt;startEngine();     // Output: Engine started for Toyota Camry!
  echo $anotherCar-&gt;accelerate(); // Output: The Honda Civic is accelerating.
  
  // When the script ends or objects are unset, the __destruct method is called.
  // unset($myCar); // This would explicitly trigger the destructor for $myCar
  
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Classes and Objects"
              data-section-id="classes-objects-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Classes and Objects"
              data-section-id="classes-objects-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>

        <div
          id="encapsulation-content"
          class="content-section hidden bg-white p-6 rounded-lg shadow"
        >
          <h2>2. Encapsulation üíä</h2>
          <div class="concept-explanation-text">
            <p>
              Encapsulation is the bundling of data (properties) and methods
              that operate on that data within a single unit (the class). It
              also involves restricting direct access to some of an object's
              components, which is known as
              <strong>access control</strong>.
            </p>
            <p>
              <strong>Access Modifiers</strong>: PHP provides three access
              modifiers:
            </p>
            <ul>
              <li>
                <code>public</code>: Properties and methods can be accessed from
                anywhere (outside the class and by derived classes). This is the
                default if no modifier is specified.
              </li>
              <li>
                <code>protected</code>: Properties and methods can be accessed
                only within the class itself and by classes that inherit from it
                (child classes).
              </li>
              <li>
                <code>private</code>: Properties and methods can be accessed
                only within the class that defines them. They are not accessible
                by child classes or from outside the class.
              </li>
            </ul>
            <p>
              <strong>Getters and Setters</strong>: These are public methods
              used to access (get) and modify (set) the values of private or
              protected properties, allowing controlled access.
            </p>
          </div>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  
  class BankAccount {
      public $accountHolderName;
      private $balance; // Encapsulated: cannot be directly accessed from outside
      protected $accountType;
  
      public function __construct($name, $initialBalance, $type = "Savings") {
          $this-&gt;accountHolderName = $name;
          if ($initialBalance &gt;= 0) {
              $this-&gt;balance = $initialBalance;
          } else {
              $this-&gt;balance = 0;
          }
          $this-&gt;accountType = $type;
          echo "Account for {$this-&gt;accountHolderName} created with balance: {$this-&gt;balance}\n";
      }
  
      public function deposit($amount) {
          if ($amount &gt; 0) {
              $this-&gt;balance += $amount;
              echo "Deposited {$amount}. New balance: {$this-&gt;balance}\n";
          } else {
              echo "Deposit amount must be positive.\n";
          }
      }
  
      public function withdraw($amount) {
          if ($amount &gt; 0 && $amount &lt;= $this-&gt;balance) {
              $this-&gt;balance -= $amount;
              echo "Withdrew {$amount}. New balance: {$this-&gt;balance}\n";
          } else {
              echo "Invalid withdrawal amount or insufficient funds.\n";
          }
      }
  
      // Getter method to access the private balance property
      public function getBalance() {
          return $this-&gt;balance;
      }
  
      protected function getAccountType() {
          return $this-&gt;accountType;
      }
  }
  
  $account1 = new BankAccount("John Doe", 1000);
  echo "Account Holder: " . $account1-&gt;accountHolderName . "\n"; // OK, public
  
  // echo $account1-&gt;balance; // Fatal error: Cannot access private property BankAccount::$balance
  // echo $account1-&gt;accountType; // Fatal error: Cannot access protected property BankAccount::$accountType
  
  $account1-&gt;deposit(500);
  $account1-&gt;withdraw(200);
  echo "Current Balance for {$account1-&gt;accountHolderName}: " . $account1-&gt;getBalance() . "\n"; // Access balance via public getter
  
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Encapsulation"
              data-section-id="encapsulation-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Encapsulation"
              data-section-id="encapsulation-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>

        <div
          id="inheritance-content"
          class="content-section hidden bg-white p-6 rounded-lg shadow"
        >
          <h2>3. Inheritance üë®‚Äçüë©‚Äçüëß‚Äçüë¶</h2>
          <div class="concept-explanation-text">
            <p>
              Inheritance is a mechanism where a new class (child or subclass)
              derives properties and methods from an existing class (parent or
              superclass). This promotes code reuse and establishes a "is-a"
              relationship (e.g., a
              <code>Dog</code>
              <em>is an</em>
              <code>Animal</code>).
            </p>
            <ul>
              <li>
                <strong><code>extends</code> Keyword</strong>: Used to define a
                child class that inherits from a parent class.
              </li>
              <li>
                <strong><code>parent::</code> Keyword</strong>: Used to call a
                parent class's constructor or methods from within a child class,
                especially when overriding them.
              </li>
              <li>
                <strong>Method Overriding</strong>: A child class can provide a
                specific implementation for a method that is already defined in
                its parent class.
              </li>
              <li>
                <strong><code>final</code> Keyword</strong>:
                <ul>
                  <li>
                    If a
                    <strong>class</strong>
                    is declared
                    <code>final</code>, it cannot be inherited.
                  </li>
                  <li>
                    If a
                    <strong>method</strong>
                    is declared
                    <code>final</code>, it cannot be overridden by a child
                    class.
                  </li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  
  class Animal {
      public $name;
      protected $sound;
  
      public function __construct($name, $sound = "makes a sound") {
          $this-&gt;name = $name;
          $this-&gt;sound = $sound;
          echo "Animal {$this-&gt;name} created.\n";
      }
  
      public function makeSound() {
          return "{$this-&gt;name} {$this-&gt;sound}.\n";
      }
  
      public function sleep() {
          return "{$this-&gt;name} is sleeping.\n";
      }
  
      final public function breathe() { // This method cannot be overridden
          return "{$this-&gt;name} is breathing.\n";
      }
  }
  
  class Dog extends Animal { // Dog inherits from Animal
      private $breed;
  
      public function __construct($name, $breed) {
          parent::__construct($name, "barks"); // Call parent constructor
          $this-&gt;breed = $breed;
          echo "A {$this-&gt;breed} dog named {$this-&gt;name} created.\n";
      }
  
      // Overriding the makeSound method from the Animal class
      public function makeSound() {
          return "{$this-&gt;name} the {$this-&gt;breed} woofs loudly!\n";
      }
  
      public function fetch() {
          return "{$this-&gt;name} is fetching the ball.\n";
      }
  
      // Attempting to override a final method would cause a fatal error:
      // public function breathe() { /* ... */ } // Error!
  }
  
  final class Cat extends Animal { // Cat inherits from Animal, but cannot be extended further
      public function __construct($name) {
          parent::__construct($name, "meows");
      }
  
      public function purr() {
          return "{$this-&gt;name} is purring.\n";
      }
  }
  
  // class BengalCat extends Cat {} // Fatal error: Class BengalCat may not inherit from final class (Cat)
  
  $genericAnimal = new Animal("Creature");
  echo $genericAnimal-&gt;makeSound(); // Output: Creature makes a sound.
  echo $genericAnimal-&gt;breathe();   // Output: Creature is breathing.
  
  $myDog = new Dog("Buddy", "Golden Retriever");
  echo $myDog-&gt;makeSound(); // Output: Buddy the Golden Retriever woofs loudly! (Overridden method)
  echo $myDog-&gt;sleep();     // Output: Buddy is sleeping. (Inherited method)
  echo $myDog-&gt;fetch();     // Output: Buddy is fetching the ball. (Dog specific method)
  echo $myDog-&gt;breathe();   // Output: Buddy is breathing. (Inherited final method)
  
  $myCat = new Cat("Whiskers");
  echo $myCat-&gt;makeSound(); // Output: Whiskers meows.
  echo $myCat-&gt;purr();      // Output: Whiskers is purring.
  
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Inheritance"
              data-section-id="inheritance-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Inheritance"
              data-section-id="inheritance-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>

        <div
          id="polymorphism-content"
          class="content-section hidden bg-white p-6 rounded-lg shadow"
        >
          <h2>4. Polymorphism üé≠</h2>
          <div class="concept-explanation-text">
            <p>
              Polymorphism ("many forms") allows objects of different classes to
              respond to the same method call in different ways. It's often
              achieved through inheritance and interfaces. It allows you to
              treat objects of different classes in a uniform way if they share
              a common parent class or implement the same interface.
            </p>
            <p>
              In the
              <code>Shape</code>
              example, both
              <code>Circle</code>
              and
              <code>Rectangle</code>
              objects can call
              <code>calculateArea()</code>, but the actual calculation performed
              is specific to each class. The
              <code>printArea</code>
              function can work with any object that implements the
              <code>Shape</code>
              interface.<br />
              In the
              <code>Bird</code>
              example,
              <code>makeBirdFly</code>
              can accept any object that is a
              <code>Bird</code>
              or its subclass. The
              <code>fly()</code>
              method behaves differently for
              <code>Sparrow</code>
              and
              <code>Penguin</code>.
            </p>
          </div>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  
  interface Shape { // Define a contract
      public function calculateArea();
  }
  
  class Circle implements Shape {
      private $radius;
  
      public function __construct($radius) {
          $this-&gt;radius = $radius;
      }
  
      public function calculateArea() { // Implementation specific to Circle
          return pi() * pow($this-&gt;radius, 2);
      }
  }
  
  class Rectangle implements Shape {
      private $width;
      private $height;
  
      public function __construct($width, $height) {
          $this-&gt;width = $width;
          $this-&gt;height = $height;
      }
  
      public function calculateArea() { // Implementation specific to Rectangle
          return $this-&gt;width * $this-&gt;height;
      }
  }
  
  function printArea(Shape $shape) { // Type hinting with the interface
      // The same method call $shape-&gt;calculateArea() behaves differently based on the object's actual class
      echo "Area: " . $shape-&gt;calculateArea() . "\n";
  }
  
  $circle = new Circle(5);
  $rectangle = new Rectangle(4, 6);
  
  printArea($circle);    // Output: Area: 78.539816339745
  printArea($rectangle); // Output: Area: 24
  
  // Another polymorphism example with class inheritance
  class Bird {
      public function fly() {
          echo "Bird is flying.\n";
      }
  }
  
  class Sparrow extends Bird {
      public function fly() { // Overriding
          echo "Sparrow is flying quickly.\n";
      }
  }
  
  class Penguin extends Bird {
      public function fly() { // Overriding
          echo "Penguin cannot fly, it swims.\n";
      }
  }
  
  function makeBirdFly(Bird $bird) {
      $bird-&gt;fly(); // Polymorphic call
  }
  
  $sparrow = new Sparrow();
  $penguin = new Penguin();
  
  makeBirdFly($sparrow); // Output: Sparrow is flying quickly.
  makeBirdFly($penguin); // Output: Penguin cannot fly, it swims.
  
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Polymorphism"
              data-section-id="polymorphism-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Polymorphism"
              data-section-id="polymorphism-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>

        <div
          id="abstraction-content"
          class="content-section hidden bg-white p-6 rounded-lg shadow"
        >
          <h2>5. Abstraction üñºÔ∏è</h2>
          <div class="concept-explanation-text">
            <p>
              Abstraction means hiding complex implementation details and
              showing only the essential features of an object. It focuses on
              <em>what</em>
              an object does rather than
              <em>how</em>
              it does it. This is achieved using abstract classes and
              interfaces.
            </p>
            <h3>Abstract Class:</h3>
            <ul>
              <li>
                A class that cannot be instantiated on its own. It's meant to be
                a base class for other classes.
              </li>
              <li>
                Can contain both abstract methods (methods without a body, only
                a signature) and concrete methods (methods with implementation).
              </li>
              <li>
                Child classes inheriting from an abstract class
                <strong>must</strong>
                implement all abstract methods defined in the parent abstract
                class, unless the child class is also abstract.
              </li>
              <li>
                Declared using the
                <code>abstract</code>
                keyword.
              </li>
            </ul>
            <h3>Interface:</h3>
            <ul>
              <li>
                A contract that defines a set of methods that a class
                <strong>must</strong>
                implement. It specifies
                <em>what</em>
                methods a class should have, but not
                <em>how</em>
                they should be implemented.
              </li>
              <li>Cannot contain properties (though can contain constants).</li>
              <li>
                All methods in an interface are implicitly
                <code>public</code>
                and
                <code>abstract</code>.
              </li>
              <li>
                A class can implement multiple interfaces using the
                <code>implements</code>
                keyword. This helps achieve a form of multiple inheritance.
              </li>
              <li>
                Declared using the
                <code>interface</code>
                keyword.
              </li>
            </ul>
            <h3>Difference between Abstract Classes and Interfaces:</h3>
            <ul>
              <li>
                An abstract class can have implemented methods and properties;
                an interface can only have method signatures and constants.
              </li>
              <li>
                A class can inherit from only one abstract class but can
                implement multiple interfaces.
              </li>
              <li>
                Abstract classes are used for "is-a" relationships when there's
                shared code. Interfaces are used for "can-do" relationships,
                defining a capability.
              </li>
            </ul>
          </div>
          <h3>Abstract Class Example:</h3>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  
  abstract class PaymentGateway {
      protected $apiKey;
  
      public function __construct($apiKey) {
          $this-&gt;apiKey = $apiKey;
          echo "PaymentGateway initialized.\n";
      }
  
      // Abstract method: must be implemented by child classes
      abstract public function processPayment($amount);
  
      // Concrete method
      public function getTransactionDetails($transactionId) {
          return "Fetching details for transaction: {$transactionId} using API key {$this-&gt;apiKey}\n";
      }
  }
  
  class PayPal extends PaymentGateway {
      public function processPayment($amount) { // Implementation of abstract method
          return "Processing PayPal payment of {$amount}...\n";
      }
  }
  
  class Stripe extends PaymentGateway {
      public function processPayment($amount) { // Implementation of abstract method
          return "Processing Stripe payment of {$amount}...\n";
      }
  }
  
  // $gateway = new PaymentGateway("some_key"); // Fatal error: Cannot instantiate abstract class PaymentGateway
  
  $paypal = new PayPal("paypal_api_key_123");
  echo $paypal-&gt;processPayment(100);
  echo $paypal-&gt;getTransactionDetails("txn_paypal_789");
  
  $stripe = new Stripe("stripe_api_key_xyz");
  echo $stripe-&gt;processPayment(200);
  echo $stripe-&gt;getTransactionDetails("txn_stripe_abc");
  
  ?&gt;
                      </code></pre>
          </div>
          <h3>Interface Example:</h3>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  
  interface Logger { // Contract for logging
      public function log($message);
      public function error($message);
  }
  
  interface Notifier { // Contract for notification
      public function sendNotification($recipient, $message);
  }
  
  class FileLogger implements Logger { // Implements the Logger interface
      private $logFile;
  
      public function __construct($filePath) {
          $this-&gt;logFile = $filePath;
      }
  
      public function log($message) {
          file_put_contents($this-&gt;logFile, "LOG: " . $message . "\n", FILE_APPEND);
          echo "Logged to file: {$message}\n";
      }
  
      public function error($message) {
          file_put_contents($this-&gt;logFile, "ERROR: " . $message . "\n", FILE_APPEND);
          echo "Error logged to file: {$message}\n";
      }
  }
  
  class EmailNotifier implements Notifier { // Implements the Notifier interface
      public function sendNotification($recipient, $message) {
          // In a real app, this would send an email
          echo "Sending email to {$recipient}: {$message}\n";
      }
  }
  
  // A class can implement multiple interfaces
  class UserActionHandler implements Logger, Notifier {
      private $actionLogFile;
  
      public function __construct($logFilePath) {
          $this-&gt;actionLogFile = $logFilePath;
      }
  
      // Logger interface methods
      public function log($message) {
          file_put_contents($this-&gt;actionLogFile, "USER_ACTION_LOG: " . $message . "\n", FILE_APPEND);
          echo "User action logged: {$message}\n";
      }
  
      public function error($message) {
          file_put_contents($this-&gt;actionLogFile, "USER_ACTION_ERROR: " . $message . "\n", FILE_APPEND);
          echo "User action error logged: {$message}\n";
      }
  
      // Notifier interface methods
      public function sendNotification($recipient, $message) {
          echo "Sending user action notification to {$recipient}: {$message}\n";
      }
  
      public function performAction($user, $action) {
          $logMessage = "User '{$user}' performed action '{$action}'.";
          $this-&gt;log($logMessage);
          $this-&gt;sendNotification($user, "Your action '{$action}' was successful.");
      }
  }
  
  $fileLogger = new FileLogger("app.log");
  $fileLogger-&gt;log("Application started.");
  $fileLogger-&gt;error("A minor error occurred.");
  
  $emailNotifier = new EmailNotifier();
  $emailNotifier-&gt;sendNotification("admin@example.com", "System backup complete.");
  
  $userHandler = new UserActionHandler("user_actions.log");
  $userHandler-&gt;performAction("Alice", "update_profile");
  
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Abstraction"
              data-section-id="abstraction-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Abstraction"
              data-section-id="abstraction-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>

        <div
          id="traits-content"
          class="content-section hidden bg-white p-6 rounded-lg shadow"
        >
          <h2>6. Traits ‚ú®</h2>
          <div class="concept-explanation-text">
            <p>
              Traits are a mechanism for code reuse in single-inheritance
              languages like PHP. A Trait is similar to a class but is only
              intended to group functionality in a fine-grained and consistent
              way. It cannot be instantiated on its own. Traits are used to add
              blocks of methods to classes horizontally.
            </p>
            <ul>
              <li>
                <strong><code>trait</code> Keyword</strong>: Used to define a
                trait.
              </li>
              <li>
                <strong><code>use</code> Keyword</strong>: Used within a class
                to include a trait's methods.
              </li>
              <li>
                <strong>Conflict Resolution</strong>: If multiple traits used in
                a class have methods with the same name, PHP will raise a fatal
                error unless the conflict is explicitly resolved using
                <code>insteadof</code>
                or
                <code>as</code>.
              </li>
            </ul>
          </div>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  
  trait Sharable {
      public function share($item) {
          return "Sharing item: {$item}\n";
      }
  }
  
  trait Taggable {
      protected $tags = [];
  
      public function addTag($tag) {
          $this-&gt;tags[] = $tag;
          return "Tag '{$tag}' added.\n";
      }
  
      public function getTags() {
          return implode(', ', $this-&gt;tags);
      }
  }
  
  trait LoggerTrait { // Another trait, potentially with a conflicting method name
      public function log($message) {
          echo "Logging from LoggerTrait: {$message}\n";
      }
  }
  
  trait DetailedLoggerTrait {
      public function log($message) { // Same method name as LoggerTrait
          echo "Detailed logging: {$message}\n";
      }
  }
  
  
  class Post {
      use Sharable, Taggable; // Use multiple traits
      public $title;
  
      public function __construct($title) {
          $this-&gt;title = $title;
      }
  }
  
  class Comment {
      use Sharable; // Use a single trait
      public $text;
  
      public function __construct($text) {
          $this-&gt;text = $text;
      }
  }
  
  class Message {
      use LoggerTrait, DetailedLoggerTrait {
          DetailedLoggerTrait::log insteadof LoggerTrait; // Resolve conflict: use log() from DetailedLoggerTrait
          LoggerTrait::log as logSimple; // Alias LoggerTrait's log() to logSimple()
      }
  
      public function sendMessage($text) {
          $this-&gt;log("Attempting to send message: {$text}"); // This will call DetailedLoggerTrait::log
          $this-&gt;logSimple("Simple log for message: {$text}"); // This will call LoggerTrait::log
          echo "Message '{$text}' sent.\n";
      }
  }
  
  $myPost = new Post("My Awesome Blog Post");
  echo $myPost-&gt;share($myPost-&gt;title);
  echo $myPost-&gt;addTag("php");
  echo $myPost-&gt;addTag("oop");
  echo "Post Tags: " . $myPost-&gt;getTags() . "\n";
  
  $myComment = new Comment("Great post!");
  echo $myComment-&gt;share("this comment");
  // $myComment-&gt;addTag("feedback"); // Error: Comment class does not use Taggable trait
  
  $message = new Message();
  $message-&gt;sendMessage("Hello Trait Conflict Resolution!");
  
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Traits"
              data-section-id="traits-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Traits"
              data-section-id="traits-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>

        <div
          id="static-members-content"
          class="content-section hidden bg-white p-6 rounded-lg shadow"
        >
          <h2>7. Static Members (Properties and Methods) üßç‚Äç‚ôÇÔ∏è</h2>
          <div class="concept-explanation-text">
            <p>
              Static members belong to the <strong>class itself</strong>, not to
              a specific instance (object) of the class. They are accessed using
              the class name and the scope resolution operator
              (<code>::</code>).
            </p>
            <ul>
              <li>
                <strong><code>static</code> Keyword</strong>: Used to declare
                static properties and methods.
              </li>
              <li>
                <strong><code>self::</code> Keyword</strong>: Used to access
                static members from
                <em>within</em>
                the class.
              </li>
              <li>
                <strong
                  ><code>static::</code> Keyword (Late Static Binding)</strong
                >: In the context of inheritance,
                <code>self::</code>
                always refers to the class where it's defined.
                <code>static::</code>
                refers to the class that was initially called at runtime. This
                is particularly useful when a static method in a parent class
                needs to refer to static properties or methods in the child
                class that called it.
              </li>
            </ul>
            <p>
              Static methods cannot access non-static properties (instance
              properties) using
              <code>$this</code>
              because
              <code>$this</code>
              refers to an object instance, and static methods are not tied to
              any specific instance.
            </p>
          </div>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  
  class MathUtils {
      public static $pi = 3.14159; // Static property
  
      public static function add($a, $b) { // Static method
          return $a + $b;
      }
  
      public static function circleArea($radius) {
          // Accessing static property from within the class using self::
          return self::$pi * $radius * $radius;
      }
  }
  
  // Accessing static property and method without creating an object
  echo "Value of PI: " . MathUtils::$pi . "\n";
  echo "Sum of 5 and 3: " . MathUtils::add(5, 3) . "\n";
  echo "Area of circle with radius 2: " . MathUtils::circleArea(2) . "\n";
  
  // Late Static Binding example
  class ParentClass {
      protected static $name = "Parent";
  
      public static function getNameUsingSelf() {
          return self::$name; // Always refers to ParentClass::$name
      }
  
      public static function getNameUsingStatic() {
          return static::$name; // Refers to the class that is called at runtime
      }
  }
  
  class ChildClass extends ParentClass {
      protected static $name = "Child";
  }
  
  echo "Using self:: from Parent: " . ParentClass::getNameUsingSelf() . "\n"; // Output: Parent
  echo "Using static:: from Parent: " . ParentClass::getNameUsingStatic() . "\n"; // Output: Parent
  
  echo "Using self:: (called via Child): " . ChildClass::getNameUsingSelf() . "\n"; // Output: Parent (self refers to ParentClass)
  echo "Using static:: (called via Child): " . ChildClass::getNameUsingStatic() . "\n"; // Output: Child (static refers to ChildClass)
  
  // Example with a counter
  class Counter {
      private static $count = 0; // Static property to count instances
  
      public function __construct() {
          self::$count++; // Increment static counter on each object creation
      }
  
      public static function getCount() {
          return self::$count;
      }
  }
  
  $c1 = new Counter();
  $c2 = new Counter();
  $c3 = new Counter();
  
  echo "Number of Counter objects created: " . Counter::getCount() . "\n"; // Output: 3
  // echo $c1-&gt;getCount(); // Can also be called on an instance, but it's conceptually a class method
  
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Static Members"
              data-section-id="static-members-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Static Members"
              data-section-id="static-members-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>

        <div
          id="namespaces-content"
          class="content-section hidden bg-white p-6 rounded-lg shadow"
        >
          <h2>8. Namespaces üìÅ</h2>
          <div class="concept-explanation-text">
            <p>
              Namespaces are a way of encapsulating items (like classes,
              interfaces, functions, and constants) to avoid name collisions
              between code from different libraries or parts of a large
              application.
            </p>
            <ul>
              <li>
                <strong><code>namespace</code> Keyword</strong>: Declares a
                namespace. It must be the first statement in a PHP file (after
                <code>declare</code>
                statements).
              </li>
              <li>
                <strong><code>use</code> Keyword</strong>: Imports a namespace
                or specific classes/interfaces/functions from a namespace,
                allowing you to refer to them with shorter names (aliasing).
              </li>
            </ul>
          </div>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  // File: src/MyApp/Utils/Logger.php
  /*
  namespace MyApp\Utils; // Declare namespace
  
  class Logger {
      public function log($message) {
          echo "MyApp\Utils\Logger: " . $message . "\n";
      }
  }
  
  interface Formatter {
      public function format($text);
  }
  */
  
  // File: src/AnotherLib/Logging/Logger.php
  /*
  namespace AnotherLib\Logging; // Declare a different namespace
  
  class Logger { // Same class name, but in a different namespace
      public function log($message) {
          echo "AnotherLib\Logging\Logger: " . $message . "\n";
      }
  }
  */
  
  // File: index.php
  // For this example to run as a single script, we'll simulate the namespaces.
  // In a real project, these would be separate files.
  
  namespace MyApp\Utils {
      if (!class_exists('MyApp\Utils\Logger', false)) {
          class Logger {
              public function log($message) {
                  echo "MyApp\Utils\Logger: " . $message . "\n";
              }
          }
      }
      if (!interface_exists('MyApp\Utils\Formatter', false)) {
          interface Formatter {
              public function format($text);
          }
      }
  }
  
  namespace AnotherLib\Logging {
      if (!class_exists('AnotherLib\Logging\Logger', false)) {
          class Logger {
              public function log($message) {
                  echo "AnotherLib\Logging\Logger: " . $message . "\n";
              }
          }
      }
  }
  
  // Switch to a different namespace or global scope for usage
  namespace App {
  
      // Using the 'use' keyword
      use MyApp\Utils\Logger as AppLogger; 
      use AnotherLib\Logging\Logger as LibLogger; 
      use MyApp\Utils\Formatter; 
  
      $appLogger = new AppLogger();
      $appLogger-&gt;log("App event with 'use'.");
  
      $libLogger = new LibLogger();
      $libLogger-&gt;log("Library event with 'use'.");
  
      class MyCustomFormatter implements Formatter { 
          public function format($text) {
              return strtoupper($text);
          }
      }
  
      $formatter = new MyCustomFormatter();
      echo $formatter-&gt;format("hello world") . "\n";
  }
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Namespaces"
              data-section-id="namespaces-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Namespaces"
              data-section-id="namespaces-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>

        <div
          id="autoloading-content"
          class="content-section hidden bg-white p-6 rounded-lg shadow"
        >
          <h2>9. Autoloading Classes üöóüí®</h2>
          <div class="concept-explanation-text">
            <p>
              Instead of manually including every class file using
              <code>require</code>
              or
              <code>include</code>, PHP allows you to define an autoloader
              function. This function is automatically called when your code
              tries to use a class that hasn't been defined yet.
            </p>
            <ul>
              <li>
                <strong><code>spl_autoload_register()</code></strong
                >: Registers a function (or multiple functions) with the PHP
                autoload queue.
              </li>
              <li>
                <strong>PSR-4</strong>: A common standard for autoloading
                classes from file paths based on their namespaces. Composer
                (PHP's dependency manager) heavily relies on PSR-4 for
                autoloading.
              </li>
            </ul>
            <p>
              <strong>Using Composer</strong>: For larger projects, Composer is
              the standard way to manage dependencies and handle autoloading.
              You define your autoloading rules (e.g., PSR-4 mapping your
              namespaces to directories) in a
              <code>composer.json</code>
              file, and Composer generates an optimized autoloader file
              (<code>vendor/autoload.php</code>) that you include in your
              project.
            </p>
          </div>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  // Autoloader function (PSR-4 inspired, simplified)
  spl_autoload_register(function ($className) {
      echo "Autoloader trying to load: {$className}\n";
  
      // Simulate class definitions for this standalone example
      if ($className === 'MyLibrary\MyClass') {
          if (!class_exists('MyLibrary\MyClass', false)) {
              namespace MyLibrary; // This is tricky in a single file like this
              class MyClass {
                  public function __construct() {
                      echo "MyLibrary\MyClass instantiated via autoloader!\n";
                  }
              }
          }
          return;
      }
      if ($className === 'AnotherLibrary\Utility') {
           if (!class_exists('AnotherLibrary\Utility', false)) {
              namespace AnotherLibrary;
              class Utility {
                  public static function doSomething() {
                      echo "AnotherLibrary\Utility::doSomething() called via autoloader!\n";
                  }
              }
          }
          return;
      }
      // In a real scenario, you would map $className to a file path and require it.
      // $filePath = __DIR__ . '/src/' . str_replace('\\', '/', $className) . '.php';
      // if (file_exists($filePath)) { require $filePath; }
  });
  
  // To properly use namespaces with autoloading, classes should be in separate files.
  // This is a conceptual demonstration.
  
  // Attempting to use classes (would require them to be defined or found by a real file-based autoloader)
  // For this example to show output, we'd need the classes defined above or in accessible files.
  // $obj = new MyLibrary\MyClass(); 
  // AnotherLibrary\Utility::doSomething();
  
  echo "Autoloader registered. In a real project with separate files and correct paths, it would load classes on demand.\n";
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Autoloading Classes"
              data-section-id="autoloading-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Autoloading Classes"
              data-section-id="autoloading-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>

        <div
          id="magic-methods-content"
          class="content-section hidden bg-white p-6 rounded-lg shadow"
        >
          <h2>10. Magic Methods ü™Ñ</h2>
          <div class="concept-explanation-text">
            <p>
              PHP provides a number of special method names that are triggered
              automatically by certain actions or events when performed on
              objects. These method names are prefixed with a double underscore
              (<code>__</code>).
            </p>
            <ul>
              <li>
                <code>__construct()</code>: Called when an object is created.
              </li>
              <li>
                <code>__destruct()</code>: Called when an object is destroyed.
              </li>
              <li>
                <code>__call($name, $arguments)</code>: Triggered when invoking
                inaccessible methods in an object context.
              </li>
              <li>
                <code>__callStatic($name, $arguments)</code>: Triggered when
                invoking inaccessible methods in a static context.
              </li>
              <li>
                <code>__get($name)</code>: Utilized for reading data from
                inaccessible (protected or private) or non-existing properties.
              </li>
              <li>
                <code>__set($name, $value)</code>: Run when writing data to
                inaccessible (protected or private) or non-existing properties.
              </li>
              <li>
                <code>__isset($name)</code>: Triggered by calling
                <code>isset()</code>
                or
                <code>empty()</code>
                on inaccessible or non-existing properties.
              </li>
              <li>
                <code>__unset($name)</code>: Invoked when
                <code>unset()</code>
                is used on inaccessible or non-existing properties.
              </li>
              <li>
                <code>__sleep()</code>: Called before
                <code>serialize()</code>
                and should return an array of property names to be serialized.
              </li>
              <li>
                <code>__wakeup()</code>: Called after
                <code>unserialize()</code>
                to reconstruct any resources.
              </li>
              <li>
                <code>__toString()</code>: Allows a class to decide how it
                should react when an object is treated as a string (e.g.,
                <code>echo $obj;</code>).
              </li>
              <li>
                <code>__invoke()</code>: Called when a script tries to call an
                object as a function.
              </li>
              <li>
                <code>__set_state($array)</code>: Called for
                <code>var_export()</code>
                when exporting an object.
              </li>
              <li>
                <code>__clone()</code>: Called when an object is cloned using
                the
                <code>clone</code>
                keyword. Useful for deep copying properties that are objects
                themselves.
              </li>
              <li>
                <code>__debugInfo()</code>: Called by
                <code>var_dump()</code>
                when dumping an object to get the properties that should be
                shown. (PHP 5.6+)
              </li>
            </ul>
          </div>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  
  class MagicDemo {
      private $data = [];
      public $name;
  
      public function __construct($name = "Demo Object") {
          $this-&gt;name = $name;
          echo "__construct: Object '{$this-&gt;name}' created.\n";
      }
  
      public function __destruct() {
          echo "__destruct: Object '{$this-&gt;name}' being destroyed.\n";
      }
  
      public function __call($methodName, $arguments) {
          echo "__call: Attempted to call inaccessible method '{$methodName}' with arguments: " . implode(', ', $arguments) . "\n";
          return null; 
      }
  
      public static function __callStatic($methodName, $arguments) {
          echo "__callStatic: Attempted to call inaccessible static method '{$methodName}' with arguments: " . implode(', ', $arguments) . "\n";
      }
  
      public function __get($propertyName) {
          echo "__get: Attempting to get property '{$propertyName}'.\n";
          return isset($this-&gt;data[$propertyName]) ? $this-&gt;data[$propertyName] : null;
      }
  
      public function __set($propertyName, $value) {
          echo "__set: Setting property '{$propertyName}' to '{$value}'.\n";
          $this-&gt;data[$propertyName] = $value;
      }
  
      public function __isset($propertyName) {
          echo "__isset: Checking if property '{$propertyName}' is set.\n";
          return isset($this-&gt;data[$propertyName]);
      }
  
      public function __unset($propertyName) {
          echo "__unset: Unsetting property '{$propertyName}'.\n";
          unset($this-&gt;data[$propertyName]);
      }
  
      public function __toString() {
          echo "__toString: Object is being treated as a string.\n";
          return "This is a MagicDemo object named '{$this-&gt;name}' with data: " . json_encode($this-&gt;data);
      }
  
      public function __invoke($x) {
          echo "__invoke: Object called as a function with argument '{$x}'.\n";
          return "Invoked with {$x}";
      }
  
      public function __clone() {
          echo "__clone: Object '{$this-&gt;name}' is being cloned.\n";
      }
  
      public function __debugInfo() {
          echo "__debugInfo: var_dump() called.\n";
          return [
              'name' =&gt; $this-&gt;name,
              'custom_data' =&gt; $this-&gt;data,
              'info' =&gt; 'This is custom debug info!'
          ];
      }
  }
  
  $obj = new MagicDemo("MyMagic");
  $obj-&gt;secretValue = 42;      
  echo $obj-&gt;secretValue . "\n"; 
  var_dump(isset($obj-&gt;secretValue)); 
  $obj-&gt;doSomething("param1", "param2"); 
  MagicDemo::doStaticThing("static_param"); 
  echo $obj . "\n"; 
  echo $obj("test_invoke") . "\n"; 
  $obj2 = clone $obj;
  var_dump($obj);
  
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Magic Methods"
              data-section-id="magic-methods-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Magic Methods"
              data-section-id="magic-methods-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>

        <div
          id="object-comparison-content"
          class="content-section hidden bg-white p-6 rounded-lg shadow"
        >
          <h2>11. Object Comparison üÜö</h2>
          <div class="concept-explanation-text">
            <ul>
              <li>
                <strong>Comparison Operator (<code>==</code>)</strong>: Two
                object instances are considered equal if they are instances of
                the same class and have the same properties with the same
                values. This is a shallow comparison of property values.
              </li>
              <li>
                <strong>Identity Operator (<code>===</code>)</strong>: Two
                object instances are identical if and only if they refer to the
                <em>exact same instance</em>
                of the same class.
              </li>
            </ul>
          </div>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  
  class Point {
      public $x;
      public $y;
  
      public function __construct($x, $y) {
          $this-&gt;x = $x;
          $this-&gt;y = $y;
      }
  }
  
  $p1 = new Point(10, 20);
  $p2 = new Point(10, 20);
  $p3 = $p1; // $p3 now refers to the same object as $p1
  $p4 = new Point(5, 15);
  
  var_dump($p1 == $p2);  // bool(true) - Same class, same property values
  var_dump($p1 === $p2); // bool(false) - Different instances
  
  var_dump($p1 == $p3);  // bool(true)
  var_dump($p1 === $p3); // bool(true) - Same instance
  
  var_dump($p1 == $p4);  // bool(false) - Different property values
  
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Object Comparison"
              data-section-id="object-comparison-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Object Comparison"
              data-section-id="object-comparison-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>

        <div
          id="object-cloning-content"
          class="content-section hidden bg-white p-6 rounded-lg shadow"
        >
          <h2>12. Object Cloning üêë</h2>
          <div class="concept-explanation-text">
            <p>
              You can create a copy of an object using the
              <code>clone</code>
              keyword. By default, PHP performs a shallow copy, meaning that if
              an object property is itself an object, the new (cloned) object's
              property will point to the
              <em>same instance</em>
              of that inner object.
            </p>
            <ul>
              <li>
                <strong><code>__clone()</code> Magic Method</strong>: If you
                need to perform a deep copy (i.e., also clone any inner
                objects), you can define the
                <code>__clone()</code>
                magic method in your class. This method is called on the newly
                created clone
                <em>after</em>
                the initial shallow copy.
              </li>
            </ul>
          </div>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  
  class Profile {
      public $name;
      public function __construct($name) {
          $this-&gt;name = $name;
      }
  }
  
  class User {
      public $id;
      public Profile $profile; // Type hinting the Profile object
  
      public function __construct($id, Profile $profile) {
          $this-&gt;id = $id;
          $this-&gt;profile = $profile;
      }
  
      // To ensure a deep copy when cloning a User object
      public function __clone() {
          echo "User object cloned. Performing deep copy of profile.\n";
          $this-&gt;profile = clone $this-&gt;profile;
      }
  }
  
  $originalProfile = new Profile("Alice");
  $user1 = new User(1, $originalProfile);
  
  $user2 = clone $user1; // Clones the User object. __clone() will be called.
  
  // Modify the cloned user's profile name
  $user2-&gt;id = 2;
  $user2-&gt;profile-&gt;name = "Alice Clone";
  
  echo "User 1 ID: " . $user1-&gt;id . ", Profile Name: " . $user1-&gt;profile-&gt;name . "\n";
  echo "User 2 ID: " . $user2-&gt;id . ", Profile Name: " . $user2-&gt;profile-&gt;name . "\n";
  var_dump($user1-&gt;profile === $user2-&gt;profile); // bool(false) if __clone() is implemented
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Object Cloning"
              data-section-id="object-cloning-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Object Cloning"
              data-section-id="object-cloning-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>

        <div
          id="type-declarations-content"
          class="content-section hidden bg-white p-6 rounded-lg shadow"
        >
          <h2>13. Type Hinting / Type Declarations üìù</h2>
          <div class="concept-explanation-text">
            <p>
              PHP allows you to specify the expected data type for function
              arguments, return values, and class properties (PHP 7.4+). This
              helps in writing more robust and self-documenting code. If a value
              of an incorrect type is provided, PHP will throw a
              <code>TypeError</code>
              (unless strict types are not declared and coercion is possible).
            </p>
            <ul>
              <li>
                <strong>Parameter Type Declarations</strong>:
                <code
                  >function myFunction(MyClass $obj, array $arr, string $name)
                  {}</code
                >
              </li>
              <li>
                <strong>Return Type Declarations</strong>:
                <code>function getValue(): int {}</code>
              </li>
              <li>
                <strong>Property Type Declarations (PHP 7.4+)</strong>:
                <code>public string $name; public ?User $user;</code>
                (nullable type)
              </li>
              <li>
                <strong>Union Types (PHP 8.0+)</strong>:
                <code>public int|float $number;</code>
                <code>function process(int|string $input): bool|string {}</code>
              </li>
              <li>
                <strong><code>mixed</code> Type (PHP 8.0+)</strong>: Represents
                any value.
              </li>
              <li>
                <strong><code>void</code> Return Type (PHP 7.1+)</strong>:
                Indicates a function does not return a value.
              </li>
              <li>
                <strong><code>object</code> Type</strong>: Can be any object.
              </li>
              <li>
                <strong><code>iterable</code> Type</strong>: Can be an array or
                an object implementing <code>Traversable</code>.
              </li>
              <li>
                <strong
                  ><code>self</code>
                  and
                  <code>parent</code></strong
                >: Can be used as type hints in class context.
              </li>
            </ul>
          </div>
          <div class="code-block">
            <div class="code-block-header">
              <button class="code-action-btn explain-code-btn">
                Explain Code ‚ú®
              </button>
              <button class="code-action-btn copy-code-btn">Copy</button>
            </div>
            <pre><code class="language-php">
  &lt;?php
  // declare(strict_types=1); // Optional: Enforce strict type checking
  
  class Product {
      public string $name; // Property type declaration (PHP 7.4+)
      public float $price;
      public ?string $description = null; // Nullable string property
  
      public function __construct(string $name, float $price) {
          $this-&gt;name = $name;
          $this-&gt;price = $price;
      }
  
      public function getDisplayName(): string { // Return type declaration
          return "Product: " . $this-&gt;name;
      }
  }
  
  class Order {
      // Union type for property (PHP 8.0+)
      public int|string $orderId;
      private array $products = [];
  
      public function __construct(int|string $id) {
          $this-&gt;orderId = $id;
      }
  
      // Parameter type declaration for an object and an array
      public function addProduct(Product $product, int $quantity = 1): void { // void return type
          $this-&gt;products[] = ['product' =&gt; $product, 'quantity' =&gt; $quantity];
          echo "Added {$quantity} of {$product-&gt;name} to order {$this-&gt;orderId}.\n";
      }
  
      public function getTotalPrice(): float {
          $total = 0.0;
          foreach ($this-&gt;products as $item) {
              $total += $item['product']-&gt;price * $item['quantity'];
          }
          return $total;
      }
  
      public function getProducts(): iterable { // iterable return type
          return $this-&gt;products;
      }
  }
  
  $product1 = new Product("Laptop", 1200.50);
  $product1-&gt;description = "High-end gaming laptop";
  $product2 = new Product("Mouse", 25.99);
  
  echo $product1-&gt;getDisplayName() . "\n"; 
  
  $order = new Order("ORD-2024-001"); 
  $order-&gt;addProduct($product1, 1);
  $order-&gt;addProduct($product2, 2);
  
  echo "Total for order {$order-&gt;orderId}: $" . $order-&gt;getTotalPrice() . "\n";
  
  ?&gt;
                      </code></pre>
          </div>
          <div
            class="mt-6 pt-4 border-t border-amber-200 space-y-3 md:space-y-0 md:space-x-3 md:flex"
          >
            <button
              class="gemini-action-btn generate-quiz-btn w-full md:w-auto"
              data-concept-name="Type Declarations"
              data-section-id="type-declarations-content"
            >
              Generate Quiz Question ‚ú®
            </button>
            <button
              class="gemini-action-btn suggest-example-btn w-full md:w-auto"
              data-concept-name="Type Declarations"
              data-section-id="type-declarations-content"
            >
              Suggest Real-World PHP Example ‚ú®
            </button>
          </div>
        </div>
      </main>
    </div>

    <div
      id="gemini-modal"
      class="fixed inset-0 bg-gray-800 bg-opacity-75 overflow-y-auto h-full w-full flex items-center justify-center hidden z-50 p-4"
    >
      <div
        class="relative mx-auto p-5 border w-full max-w-xl md:max-w-2xl lg:max-w-3xl shadow-lg rounded-md bg-amber-50"
      >
        <div class="mt-3">
          <h3
            id="gemini-modal-title"
            class="text-xl leading-6 font-bold text-amber-800 text-center mb-4"
          ></h3>
          <div
            id="gemini-modal-content-wrapper"
            class="max-h-[60vh] overflow-y-auto px-2 py-1"
          >
            <div id="gemini-loading" class="text-center hidden my-6">
              <p class="text-lg text-amber-700 mb-2">‚ú® Thinking...</p>
              <div
                class="animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-amber-600 mx-auto"
              ></div>
            </div>
            <div
              id="gemini-response-area"
              class="text-stone-800 text-sm md:text-base leading-relaxed"
            ></div>
          </div>
          <div class="mt-6 px-4 py-3 text-center">
            <button
              id="gemini-modal-close"
              class="px-6 py-2 bg-amber-600 text-white text-base font-medium rounded-md shadow-sm hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      hljs.highlightAll();
    </script>
    <script src="app.js" defer></script>
  </body>
</html>
