## SQL `ORDER BY` Clause: Sorting Data

The `ORDER BY` clause is an essential SQL component used to sort the result set of a query. It allows you to present your data in a meaningful and organized sequence, rather than the default, often unpredictable, order.

### 1\. What is the `ORDER BY` Clause?

- **Purpose**: The `ORDER BY` clause is an **optional** clause added to a `SELECT` statement. Its primary function is to **sort the retrieved data** (the result set) based on the values in one or more specified columns.
- **Result**: It reorders the rows in your output, making data easier to read, analyze, or present (e.g., listing students by age from oldest to youngest, or names alphabetically).
- **Flexibility**: You can sort by single columns, multiple columns, and define the sort direction for each.

### 2\. Basic Syntax of `ORDER BY`

The `ORDER BY` clause always comes **after** the `FROM` clause (and `WHERE` clause if present) in a `SELECT` statement.

```sql
SELECT column1, column2, ... -- Or SELECT * for all columns
FROM table_name
[WHERE condition]           -- Optional: to filter rows first
ORDER BY column_to_sort_by [ASC | DESC];
```

- **`SELECT ... FROM table_name`**: This is the standard part of any query that retrieves data.
- **`ORDER BY`**: The keyword introducing the sorting instruction.
- **`column_to_sort_by`**: The name of the column whose values you want to use for sorting.
- **`[ASC | DESC]`**: Optional keywords to specify the sorting order:
  - **`ASC` (Ascending)**: Sorts from lowest to highest, A-Z, or oldest to newest. This is the **default behavior** if no keyword is specified.
  - **`DESC` (Descending)**: Sorts from highest to lowest, Z-A, or newest to oldest.

### 3\. How Data is Sorted Based on Data Type

The way data is sorted depends on the data type of the column specified in the `ORDER BY` clause:

- **Numeric Data Types**: Sorted in numerical order.
  - `ASC`: 1, 2, 3, ..., 10, 11...
  - `DESC`: ..., 11, 10, ..., 3, 2, 1
- **Text/String Data Types**: Sorted in alphabetical order.
  - `ASC`: A, B, C, ..., Z
  - `DESC`: Z, Y, X, ..., A
- **Date and Time Data Types**: Sorted chronologically.
  - `ASC`: Oldest date/time to newest date/time.
  - `DESC`: Newest date/time to oldest date/time.

### 4\. Practical Examples of `ORDER BY` in Use

Let's use a `Student_Table` with columns like `ID`, `first_name`, `last_name`, `date_of_birth`, and `nationality`.

- **Sorting by a Single Column (Ascending - Default Behavior)**

  - **Goal**: Sort students alphabetically by `nationality`.
  - **SQL Code**:
    ```sql
    SELECT ID, first_name, last_name, nationality
    FROM Student_Table
    ORDER BY nationality ASC;
    -- Or simply (since ASC is the default):
    -- ORDER BY nationality;
    ```
    ```
    To convert the provided image of a table into Markdown format, I will extract the data visible in the image.
    ```

| ID  | first_name | last_name | nationality |
| --- | ---------- | --------- | ----------- |
| 3   | Jerry      | Martin    | Australia   |
| 5   | Ryan       | Egan      | China       |
| 4   | Heather    | Dawson    | UK          |
| 1   | John       | Murphy    | US          |
| 2   | Sandra     | Hauge     | US          |

- **Explanation**: The result set will display student records, but the rows will be reordered so that students from countries starting with 'A' come before 'B', and so on.

- **Sorting by a Single Column (Descending)**

  - **Goal**: Sort students in reverse alphabetical order by `nationality`.
  - **SQL Code**:

    ```sql
    SELECT ID, first_name, last_name, nationality
    FROM Student_Table
    ORDER BY nationality DESC;
    ```

| ID  | first_name | last_name | nationality |
| --- | ---------- | --------- | ----------- |
| 1   | John       | Murphy    | US          |
| 2   | Sandra     | Hauge     | US          |
| 4   | Heather    | Dawson    | UK          |
| 5   | Ryan       | Egan      | China       |
| 3   | Jerry      | Martin    | Australia   |

- **Explanation**: Students from countries starting with 'Z' will appear first, then 'Y', etc.

- **Sorting by Multiple Columns**

  - **Goal**: Sort students first by `nationality` (ascending) and then, for students with the same nationality, sort by `date_of_birth` (descending - youngest first).
  - **Syntax**: List multiple columns after `ORDER BY`, separated by commas. Each column can have its own `ASC` or `DESC` specifier. The sorting happens sequentially (first by the first column, then by the second within identical values of the first, and so on).
  - **SQL Code**:
    ```sql
    SELECT ID, first_name, last_name, date_of_birth, nationality
    FROM Student_Table
    ORDER BY nationality ASC, date_of_birth DESC;
    ```

| ID  | first_name | last_name | date_of_birth | nationality |
| --- | ---------- | --------- | ------------- | ----------- |
| 3   | Jerry      | Martin    | 2000-03-30    | Australia   |
| 5   | Ryan       | Egan      | 2000-04-30    | China       |
| 4   | Heather    | Dawson    | 1999-08-21    | UK          |
| 2   | Sandra     | Hauge     | 2000-06-20    | US          |
| 1   | John       | Murphy    | 1999-02-01    | US          |

- **Explanation**: The database will first sort all students by `nationality` alphabetically. If two or more students have the _same nationality_, then among _those specific students_, they will be further sorted by their `date_of_birth` from newest (youngest) to oldest.

- **Using `SELECT *` with `ORDER BY`**:

  - You can sort all columns by simply using `SELECT *`. The `ORDER BY` clause will still define the sorting criteria for the entire row.
  - **Example**: `SELECT * FROM Student_Table ORDER BY nationality ASC;`

### 5\. Key Takeaways for Revision

- `ORDER BY` is used for **sorting the output (result set)** of a `SELECT` query.
- It does **not change the physical order** of data storage in the table.
- It comes **after `FROM` (and `WHERE`)**.
- `ASC` (ascending) is the **default** order.
- `DESC` (descending) explicitly sets reverse order.
- You can sort by **multiple columns**, with each having its own sort direction. The order of columns in `ORDER BY` dictates the sorting hierarchy.
- Sorting behavior depends on the **data type** of the column being sorted (numeric, alphabetical, chronological).

## SQL `WHERE` Clause: Filtering Data

The `WHERE` clause is a powerful and fundamental component of SQL statements, used to **filter records** based on specified conditions. It allows you to retrieve, update, or delete only the rows that meet certain criteria.

### 1\. What is the `WHERE` Clause?

- **Purpose**: The `WHERE` clause is used to **filter data** by extracting only those records (rows) that satisfy a defined condition.
- The WHERE clause is useful when you want to filter data in a table based on a given condition in the SQL statement.The WHERE clause in SQL is there for the purpose of filtering records and fetching only the necessary records.

- **Placement**: It always comes _after_ the `FROM` clause in `SELECT`, `UPDATE`, and `DELETE` statements.

### 2\. Basic Syntax of the `WHERE` Clause

The general syntax within a `SELECT` statement is:

```sql
SELECT column1, column2, ...   -- Or SELECT * for all columns
FROM table_name
WHERE condition;
```

- **`condition`**: This is a logical expression that evaluates to either `TRUE` or `FALSE` for each row. Only rows where the condition is `TRUE` are processed.
- **`condition` Structure**: Typically `column_name operator value_or_expression`.
  - **`column_name`**: The column whose values you want to evaluate.
  - **`operator`**: A comparison or logical operator.
  - **`value_or_expression`**: The value (numeric, text, date) or another column/expression to compare against.
    - **Important**: Text values and date values **must be enclosed in single quotes (`' '`)**. Numeric values do not require quotes.

### 3\. Operators Used in the `WHERE` Clause

The `WHERE` clause can utilize a wide range of operators to define complex filtering conditions.

The filtering happens based on a condition. The condition can be written using any of the following comparison or logical operators.

### **Comparison operators**

| **Operator** | **Description**                                                                                                                      |
| ------------ | ------------------------------------------------------------------------------------------------------------------------------------ |
| =            | Checks if the values of two operands are equal or not. If yes, then condition becomes true.                                          |
| <>           | Checks if the values of two operands are equal or not. If values are not equal, then condition becomes true.                         |
| >            | Checks if the value of the left operand is greater than the value of the right operand. If yes, then condition becomes true.         |
| <            | Checks if the value of left operand is less than the value of right operand. If yes, then condition becomes true.                    |
| >=           | Checks if the value of the left operand is greater than or equal to the value of right operand. If yes, then condition becomes true. |
| <=           | Check if the value of the left operand is less than or equal to the value of the right operand. If yes then condition becomes true.  |
| !<           | Checks if the value of the left operand is not less than the value of the right operand. If yes, then condition becomes true.        |
| !>           | Checks if the value of the left operand is not greater than the value of the right operand. If yes, then condition becomes true.     |

### **Logical operators**

| **Operator** | **Description**                                                                                                                                       |
| ------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ALL**      | Used to compare a single value to all the values in another value set.                                                                                |
| **AND**      | Allows for the existence of multiple conditions in an SQL statement's WHERE clause.                                                                   |
| **ANY**      | Used to compare a value to any applicable value in the list as per the condition.                                                                     |
| **BETWEEN**  | Used to search for values that are within a set of values, given the minimum value and the maximum value.                                             |
| **EXISTS**   | Used to search for the presence of a row in a specified table that meets a certain criterion.                                                         |
| **IN**       | Used to compare a value to a list of literal values that have been specified.                                                                         |
| **LIKE**     | Used to compare a value to similar values using wildcard operators.                                                                                   |
| **NOT**      | Reverses the meaning of the logical operator with which it is used. For example: NOT EXISTS, NOT BETWEEN, NOT IN, etc. **This is a negate operator.** |
| **OR**       | Used to combine multiple conditions in an SQL statement's WHERE clause.                                                                               |
| **IS NULL**  | Used to compare a value with a NULL value.                                                                                                            |
| **UNIQUE**   | Searches every row of a specified table for uniqueness (no duplicates).                                                                               |

Using

### Application

| ID  | first_name | last_name | date_of_birth | country   | faculty     |
| --- | ---------- | --------- | ------------- | --------- | ----------- |
| 1   | John       | Murphy    | 1999-02-01    | USA       | Science     |
| 2   | Sandra     | Hauge     | 2000-06-20    | USA       | Science     |
| 3   | Jerry      | Martin    | 2000-03-30    | Australia | Science     |
| 4   | Heather    | Dawson    | 1999-08-21    | UK        | Science     |
| 5   | Ryan       | Egan      | 2010-04-10    | China     | Science     |
| 6   | James      | Jones     | 2010-02-15    | UK        | Engineering |
| 7   | George     | Stuart    | 2010-02-15    | Australia | Engineering |
| 8   | Anne       | Jones     | 2010-05-30    | Australia | Engineering |

1.  **`BETWEEN` Operator**:

    - **Purpose**: Filters records within a specified **range** (inclusive). Can be used with numeric, date/time, or string values.
    - **Syntax**: `WHERE column_name BETWEEN value1 AND value2`
    - **Example**: Retrieve students born between two specific dates.
      ```sql
      SELECT *
      FROM Student_Table
      WHERE date_of_birth BETWEEN '2010-01-01' AND '2010-05-30';
      ```
    - **Explanation**: Selects rows where `date_of_birth` is on or after '2010-01-01' AND on or before '2010-05-30'.

| ID  | first_name | last_name | date_of_birth | country   | faculty     |
| --- | ---------- | --------- | ------------- | --------- | ----------- |
| 1   | John       | Murphy    | 1999-02-01    | USA       | Science     |
| 6   | James      | Jones     | 2010-02-15    | UK        | Engineering |
| 7   | George     | Stuart    | 2010-02-15    | Australia | Engineering |
| 3   | Jerry      | Martin    | 2000-03-30    | Australia | Science     |
| 5   | Ryan       | Egan      | 2010-04-10    | China     | Science     |
| 8   | Anne       | Jones     | 2010-05-30    | Australia | Engineering |

2.  **`LIKE` Operator**:

    - **Purpose**: Used to search for a **specified pattern** within a string column.
    - **Syntax**: `WHERE column_name LIKE 'pattern'`
    - **Wildcard Characters**:
      - `%` (percent sign): Represents **zero, one, or multiple** characters.
      - `_` (underscore): Represents **exactly one** single character.
    - **Example**: Find students in faculties starting with "Sc".
      ```sql
      SELECT *
      FROM Student_Table
      WHERE Faculty LIKE 'Sc%';
      ```

| ID  | first_name | last_name | date_of_birth | country   | faculty |
| --- | ---------- | --------- | ------------- | --------- | ------- |
| 1   | John       | Murphy    | 1999-02-01    | USA       | Science |
| 2   | Sandra     | Hauge     | 2000-06-20    | USA       | Science |
| 3   | Jerry      | Martin    | 2000-03-30    | Australia | Science |
| 4   | Heather    | Dawson    | 1999-08-21    | UK        | Science |
| 5   | Ryan       | Egan      | 2010-04-10    | China     | Science |

- **Explanation**: Retrieves students where the `Faculty` column begins with "Sc" followed by any number of other characters (e.g., 'Science').

3.  **`IN` Operator**:

    - **Purpose**: Used to specify **multiple possible values** for a column. It acts as a shorthand for multiple `OR` conditions.
    - **Syntax**: `WHERE column_name IN (value1, value2, value3, ...)`
    - **Example**: Retrieve students from specific countries (USA or UK).
      ```sql
      SELECT *
      FROM Student_Table
      WHERE Country IN ('USA', 'UK');
      ```
    - **Explanation**: Selects students whose `Country` is either 'USA' OR 'UK'.

| ID  | first_name | last_name | date_of_birth | country | faculty     |
| --- | ---------- | --------- | ------------- | ------- | ----------- |
| 1   | John       | Murphy    | 1999-02-01    | USA     | Science     |
| 2   | Sandra     | Hauge     | 2000-06-20    | USA     | Science     |
| 4   | Heather    | Dawson    | 1999-08-21    | UK      | Science     |
| 6   | James      | Jones     | 2010-02-15    | UK      | Engineering |

### 4\. Application Beyond `SELECT`

- While the video primarily demonstrates `WHERE` with `SELECT` statements (for filtering results to be displayed), it's crucial to remember that the `WHERE` clause is equally vital for:

  - **`UPDATE` statements**: To specify _which_ rows to modify.

    - Example:

    ```sql
    UPDATE Students SET Faculty = 'New Faculty' WHERE ID = 5;
    ```

- **`DELETE` statements**: To specify _which_ rows to remove.

  - Example:

    ```sql
    DELETE FROM Students WHERE Nationality = 'China';
    ```

- **Critical Reminder**: Omitting the `WHERE` clause in `UPDATE` or `DELETE` statements will affect _all_ rows in the table, which is rarely the desired outcome and can lead to significant data loss.

### 5\. Key Takeaways for Revision

- The `WHERE` clause is the core mechanism for **filtering data** in SQL.
- It defines a **condition** that rows must meet to be included in the operation.
- It supports various **operators**:
  - **Comparison**: `=`, `<`, `>`, `<=`, `>=`, `<>` (or `!=`).
  - **Range**: `BETWEEN ... AND ...`
  - **Pattern Matching**: `LIKE` with wildcards (`%`, `_`).
  - **Multiple Values**: `IN (...)`.
- Text and date values in conditions must be in **single quotes**.
- The `WHERE` clause is fundamental for **`SELECT`, `UPDATE`, and `DELETE`** operations.
- **Always be careful** with the `WHERE` clause, especially in `UPDATE` and `DELETE`, to avoid unintended changes or deletions.
