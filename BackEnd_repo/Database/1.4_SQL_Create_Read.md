# SQL Create and Read Process

### ALTER command

The `ALTER TABLE` command in SQL is essential for modifying the structure of existing database tables. Tables are rarely static, and `ALTER TABLE` allows developers to make necessary changes after a table has been created.

Here's a summary of the key operations:

**1. General Syntax of `ALTER TABLE`:**
The command always begins with `ALTER TABLE` followed by the `table_name` you want to modify. What comes next depends on the specific action you want to perform (add, delete, or modify columns).

**2. Adding Columns:**

- **Purpose:** To add one or more new columns to an existing table.
- **Syntax:**

```sql
ALTER TABLE Students
ADD (Age INT,
      Country VARCHAR(50),
      Nationality VARCHAR(255));
```

- You specify the new column's name, its data type, and any optional constraints (e.g., `NOT NULL`, `DEFAULT`).
- You can add multiple columns in a single `ADD` clause by listing them within parentheses, separated by commas.

**3. Removing (Dropping) Columns:**

- **Purpose:** To delete an existing column from a table.
- **Syntax:**

```sql
ALTER TABLE Students
DROP COLUMN Nationality;
```

- You specify the name of the column you want to remove.
- **Caution:** Dropping a column permanently deletes its data. Many database systems will ask for confirmation before executing.

**4. Modifying Column Attributes (e.g., Data Type, Length, Constraints):**

- **Purpose:** To change the data type, size/length, or constraints of an existing column.
- **Syntax (common for changing data type/length):**
  ```sql
  ALTER TABLE table_name
  MODIFY COLUMN column_name new_data_type [new_constraints];
  ```
  - **Note:** The specific keyword for modifying columns can vary slightly between database systems. The transcript uses `MODIFY` which is common in MySQL. SQL Server often uses `ALTER COLUMN`.
  - You provide the column's name, its new data type, and the new attributes (e.g., `VARCHAR(100)` for a new length).

```sql
ALTER TABLE Students
MODIFY COLUMN Country VARCHAR(100);
-- you can modify either the length or data type or even the constaraints
ALTER TABLE Students
MODIFY COLUMN Age TINYINT NOT NULL;
```

**Key Takeaways for Revision:**

- `ALTER TABLE` is used for **structural changes** to tables.
- Always specify the `table_name` immediately after `ALTER TABLE`.
- Use `ADD` to introduce new columns.
- Use `DROP COLUMN` to remove existing columns (be careful, data loss is permanent).
- Use `MODIFY COLUMN` (or `ALTER COLUMN` depending on the DBMS) to change a column's data type, length, or constraints.
- Ensure you have a database and table with data ready for testing these commands.

### INSERT command

The `INSERT INTO` command in SQL is used to add new rows (records) of data into an existing table. This is a fundamental operation for populating your database tables with information.

Here's a summary of the necessary information for revision:

**1. Purpose of `INSERT INTO`:**

- To add one or more new rows of data into a specified table.
- Each row represents a new record.

**2. Basic `INSERT INTO` Syntax (Inserting a Single Row):**
The most common way to insert data involves specifying both the columns and the values.

```sql
INSERT INTO table_name (column1, column2, column3, ...)
VALUES (value1, value2, value3, ...);
```

- **`INSERT INTO table_name`**: Specifies the table where data will be inserted.
- **`(column1, column2, column3, ...)`**: An optional (but recommended) list of column names into which you are inserting data.
  - **Importance**: This ensures that values are mapped to the correct columns, even if the order of columns in your `VALUES` clause doesn't match the table's definition, or if you're only inserting into a subset of columns.
- **`VALUES (value1, value2, value3, ...)`**: The actual data values to be inserted into the `corresponding columns`.
  - **Order Matters**: The order of values in the `VALUES` clause _must match_ the order of columns specified in the `(column1, column2, ...)` list.
  - **Data Type Match**: Each `value` must be compatible with the `data_type` of its corresponding `column`.
  - **Quotation Marks**: Non-numeric values (strings, dates) must be enclosed in single quotation marks (e.g., `'Yuval'`, `'2020-10-15'`). Numeric values do not need quotes.
  - **Date Format**: Dates generally follow 'YYYY-MM-DD' format. Functions like `CURRENT_DATE()` can be used to insert the current date.

**3. Inserting Multiple Rows Simultaneously:**
You can insert several rows with a single `INSERT INTO` statement by separating each set of values with a comma.

```sql
INSERT INTO table_name (column1, column2, column3, ...)
VALUES
    (value1_row1, value2_row1, value3_row1, ...),
    (value1_row2, value2_row2, value3_row2, ...),
    (value1_row3, value2_row3, value3_row3, ...);
```

**4. Example:**

- **Inserting a single player:**

  ```sql
  INSERT INTO Players (ID, Name, Age, Start_date)
  VALUES (1, 'Yuval', 25, '2020-10-15');
  -- Or using CURRENT_DATE() for the date:
  -- VALUES (1, 'Yuval', 25, CURRENT_DATE());
  ```

- **Inserting multiple players:**

  ```sql
  INSERT INTO Players (ID, Name, Age, Start_date)
  VALUES
      (2, 'Mark', 27, '2020-10-12'),
      (3, 'Karl', 26, '2020-10-07');
  ```

**5. Retrieving Data (for verification, not part of `INSERT` but mentioned):**
To view the data after insertion, you use the `SELECT` statement:

```sql
SELECT * FROM table_name;
```

- `SELECT *`: Retrieves all columns.
- `FROM table_name`: Specifies the table to retrieve data from.

**Key Points for Revision:**

- `INSERT INTO` adds new **rows**.
- Always match the **order and data types** of values to their respective columns.
- Use **single quotes** for string and date values.
- Multiple rows can be inserted in one statement by separating value sets with commas.
- Specifying column names is **good practice** for clarity and flexibility, even if inserting into all columns. If you omit column names, you **must** provide values for _all_ columns in the table, in their defined order.

### SELECT command

The `SELECT` command is one of the most fundamental and frequently used SQL statements. Its primary purpose is to retrieve data from one or more tables in a database.

Here's a summary of the essential information for your revision:

**1. Purpose of `SELECT`:**

- To query and retrieve data from a database table.
- The result of a `SELECT` statement is a **result set**, which is a logical table containing the requested data.

**2. Basic `SELECT` Statement Syntax:**
The general structure of a `SELECT` statement is:

```sql
SELECT column1, column2, ...
FROM table_name;
```

- **`SELECT`**: The keyword that initiates the data retrieval process.
- **`column1, column2, ...`**: A comma-separated list of the specific columns you want to retrieve data from.
- **`FROM table_name`**: The keyword `FROM` followed by the name of the table from which you want to retrieve the data.
- **Semicolon (`;`)**: Optional in many SQL environments, but good practice to terminate SQL statements.

**3. Retrieving Data from a Single Column:**

- **Goal:** Get all values from a specific column.
- **Example:** To get all player names from a `Players` table:
  ```sql
  SELECT Name
  FROM Players;
  ```
  This will return a result set with a single column named `Name`, listing all the player names.

**4. Retrieving Data from Multiple Columns:**

- **Goal:** Get values from several specified columns.
- **Method:** List all desired column names, separated by commas, after the `SELECT` keyword.
- **Example:** To get the name and skill level of each player:
  ```sql
  SELECT Name, Skill_Level
  FROM Players;
  ```
  This will return a result set with two columns: `Name` and `Skill_Level`.

**5. Retrieving All Data from All Columns:**
There are two main methods to achieve this:

- **Method 1: Explicitly Listing All Columns:**

  - **Goal:** Retrieve every column's data by naming each one.
  - **Example:**
    ```sql
    SELECT ID, Name, Age, Skill_Level
    FROM Players;
    ```
    This is explicit and shows exactly what you are retrieving.

- **Method 2: Using the Asterisk (`*`) Wildcard:**

  - **Goal:** Retrieve all columns without having to type out each column name.
  - **Syntax:**
    ```sql
    SELECT *
    FROM table_name;
    ```
  - **Example:**
    ```sql
    SELECT *
    FROM Players;
    ```
    This is a convenient shorthand.
  - **Caution**: While convenient, `SELECT *` is generally discouraged in production code for performance reasons (it retrieves potentially unneeded data) and robustness (if column order changes, it can break applications relying on that order). However, it's perfectly fine for quick ad-hoc queries and learning.

**Key Takeaways for Revision:**

- `SELECT` is for **reading/querying** data.
- You specify _what_ columns to get (`SELECT column_names_or_*`).
- You specify _where_ to get it from (`FROM table_name`).
- Comma-separate multiple column names.
- Use `*` as a shorthand for "all columns."

### INSERT INTO SELECT

The `INSERT INTO SELECT` command in SQL is a powerful way to copy data from one table (the **source table**) and insert it into another table (the **target table**). This is particularly useful for populating new tables with existing data, consolidating information, or creating filtered subsets of data.

Here's a summary of the essential information for your revision:

**1. Purpose of `INSERT INTO SELECT`:**

- To insert data into a target table by retrieving (querying) that data from a source table.
- It combines the data retrieval capabilities of `SELECT` with the data insertion capabilities of `INSERT INTO`.

**2. Key Concept: Source vs. Target Tables:**

- **Source Table**: The table from which you are _reading_ the data.
- **Target Table**: The table into which you are _writing_ the data.

**3. `INSERT INTO SELECT` Syntax:**

```sql
INSERT INTO target_table (column1, column2, column3, ...)
SELECT source_column1, source_column2, source_column3, ...
FROM source_table
[WHERE condition]; -- Optional: to filter data from the source table
```

- **`INSERT INTO target_table (column1, column2, ...)`**:
  - `target_table`: The name of the table where you want to insert the data.
  - `(column1, column2, ...)`: An optional (but highly recommended) list of column names in the `target_table` where the data will be inserted.
- **`SELECT source_column1, source_column2, source_column3, ...`**:
  - `source_column1, source_column2, ...`: The columns from the `source_table` whose data you want to retrieve.
  - **Crucial Point**: The number of columns, their order, and their data types in the `SELECT` list _must match_ the corresponding columns in the `INSERT INTO` list (or the target table's columns if the `INSERT INTO` column list is omitted).
- **`FROM source_table`**: The name of the table from which the data is being retrieved.
- **`[WHERE condition]`**: An optional `WHERE` clause can be added to filter the rows from the `source_table` before they are inserted into the `target_table`. This allows you to insert only a subset of the source data.

**4. Important Considerations (Implicit from Transcript):**

- **Data Type Compatibility**: The data type of each `source_column` must be compatible with the data type of its corresponding `target_column`. If not, the database might attempt an implicit conversion, which could lead to errors or data loss.
- **Column Order**: While the video mentions arranging source data, it's generally best practice to explicitly list the target columns and select the source columns in the same order. This prevents issues if the column order in the source or target table changes.
- **`SELECT *` Usage**: You can use `SELECT *` if you want to copy all columns from the source table to the target table, _provided_ that both tables have the same number of columns and compatible data types in the same order. However, explicitly listing columns is safer and clearer.
- **Constraints**: Data inserted via `INSERT INTO SELECT` is still subject to the constraints (e.g., `NOT NULL`, `UNIQUE`, `FOREIGN KEY`) defined on the target table. If the incoming data violates a constraint, the insertion will fail.

**5. Example from Transcript:**

- **Scenario**: Populate the `countryName` column in the `Country` table (target) with data from the `country` column in the `Players` table (source).
- **SQL Statement**:
  ```sql
  INSERT INTO Country (countryName)
  SELECT country
  FROM Players;
  ```

**Key Takeaways for Revision:**

- `INSERT INTO SELECT` copies data _between_ tables.
- Identify your `source_table` (where data comes from) and `target_table` (where data goes).
- Ensure the `SELECT` list matches the `INSERT INTO` column list (or the target table's structure) in terms of number, order, and data type compatibility.
- Use a `WHERE` clause to filter specific rows from the source table if needed.

